---
export interface Props {
	title?: string;
}

const { title = "Mi Portafolio C√≥smico" } = Astro.props;
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
		<title>Portafolio Einer Ch√°vez</title>
	</head>
	<body>
		<div class="cosmic-background">
			<div class="stars"></div>
			<div class="nebula nebula-1"></div>
			<div class="nebula nebula-2"></div>
			<div class="nebula nebula-3"></div>
			<div class="particles"></div>
		</div>
		
		<nav class="cosmic-nav">
			<div class="nav-controls">
				<button class="theme-toggle" id="themeToggle" aria-label="Cambiar tema">
					<span class="theme-icon">üåô</span>
				</button>
				<button class="lang-toggle" id="langToggle" aria-label="Cambiar idioma">
					<span class="lang-text">EN</span>
				</button>
			</div>
			
			<div class="nav-links" id="navLinks">
				<a href="#inicio" class="nav-link">Inicio</a>
				<a href="#habilidades" class="nav-link">Habilidades</a>
				<a href="#proyectos" class="nav-link">Proyectos</a>
				<a href="#contacto" class="nav-link">Contacto</a>
			</div>
			
			<button class="hamburger" id="hamburger" aria-label="Men√∫">
				<span></span>
				<span></span>
				<span></span>
			</button>
		</nav>

		<slot />
		
		<footer class="cosmic-footer">
			<div class="footer-content">
				<p>&copy; 2025 Einer Ch√°vez</p>
				<p data-es="Todos los derechos reservados" data-en="All rights reserved">Todos los derechos reservados</p>
			</div>
		</footer>
	</body>
</html>

<style is:global>
	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}

	:root {
		--bg-primary: #000;
		--bg-secondary: #1a0033;
		--text-primary: #fff;
		--text-secondary: rgba(255, 255, 255, 0.8);
		--accent-primary: #00f5ff;
		--accent-secondary: #ff6b9d;
		--card-bg: rgba(26, 0, 51, 0.3);
		--border-color: rgba(0, 245, 255, 0.3);
	}

	[data-theme="dark"] {
		--bg-primary: #0a0a0a;
		--bg-secondary: #1a1a1a;
		--text-primary: #e0e0e0;
		--text-secondary: rgba(224, 224, 224, 0.7);
		--accent-primary: #4a9eff;
		--accent-secondary: #ff4081;
		--card-bg: rgba(26, 26, 26, 0.8);
		--border-color: rgba(74, 158, 255, 0.3);
	}

	body {
		font-family: 'Exo 2', sans-serif;
		background: var(--bg-primary);
		color: var(--text-primary);
		overflow-x: hidden;
		scroll-behavior: smooth;
		transition: all 0.3s ease;
	}

	.cosmic-background {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: -1;
		background: radial-gradient(ellipse at center, var(--bg-secondary) 0%, var(--bg-primary) 70%);
		transition: all 0.3s ease;
	}

	.stars {
		position: absolute;
		width: 100%;
		height: 100%;
		background: transparent;
	}

	.stars::before,
	.stars::after {
		content: '';
		position: absolute;
		width: 2px;
		height: 2px;
		background: var(--text-primary);
		border-radius: 50%;
		box-shadow: 
			25vw 15vh 0 var(--text-primary),
			40vw 20vh 1px var(--accent-primary),
			60vw 30vh 0 var(--text-primary),
			80vw 10vh 1px var(--accent-secondary),
			20vw 50vh 0 var(--text-primary),
			70vw 60vh 1px var(--accent-primary),
			90vw 40vh 0 var(--text-primary),
			15vw 80vh 1px var(--accent-secondary),
			50vw 75vh 0 var(--text-primary),
			85vw 85vh 1px var(--accent-primary),
			10vw 25vh 0 var(--text-primary),
			35vw 65vh 1px var(--accent-secondary),
			75vw 5vh 0 var(--text-primary),
			45vw 90vh 1px var(--accent-primary),
			95vw 70vh 0 var(--text-primary);
		animation: twinkle 4s infinite ease-in-out alternate, drift 20s infinite linear;
	}

	.stars::after {
		animation-delay: 2s;
		transform: scale(0.5);
		animation: twinkle 4s infinite ease-in-out alternate 2s, drift 25s infinite linear reverse;
	}

	@keyframes twinkle {
		0%, 100% { opacity: 0.3; }
		50% { opacity: 1; }
	}

	@keyframes drift {
		0% { transform: translateX(0) translateY(0); }
		25% { transform: translateX(10px) translateY(-5px); }
		50% { transform: translateX(-5px) translateY(10px); }
		75% { transform: translateX(-10px) translateY(-5px); }
		100% { transform: translateX(0) translateY(0); }
	}

	/* Meteoros ocasionales */
	.cosmic-background::after {
		content: '';
		position: absolute;
		width: 2px;
		height: 2px;
		background: linear-gradient(45deg, var(--accent-primary), transparent);
		border-radius: 50%;
		top: 10%;
		left: -10px;
		animation: meteor 8s infinite linear;
	}

	@keyframes meteor {
		0% {
			transform: translateX(0) translateY(0) scale(0);
			opacity: 0;
		}
		10% {
			transform: translateX(50px) translateY(50px) scale(1);
			opacity: 1;
			box-shadow: 0 0 20px var(--accent-primary);
		}
		90% {
			transform: translateX(calc(100vw + 100px)) translateY(calc(100vh + 100px)) scale(0.5);
			opacity: 0.5;
		}
		100% {
			transform: translateX(calc(100vw + 200px)) translateY(calc(100vh + 200px)) scale(0);
			opacity: 0;
		}
	}
	.nebula {
		position: absolute;
		border-radius: 50%;
		filter: blur(100px);
		animation: float 20s infinite ease-in-out, pulse-glow 8s infinite ease-in-out alternate;
		transition: all 0.3s ease;
	}

	@keyframes pulse-glow {
		0% { filter: blur(100px) brightness(0.8); }
		100% { filter: blur(120px) brightness(1.2); }
	}
	.nebula-1 {
		width: 800px;
		height: 600px;
		background: radial-gradient(circle, rgba(45, 27, 105, 0.3) 0%, transparent 70%);
		top: 10%;
		left: -200px;
		animation-delay: 0s;
	}

	.nebula-2 {
		width: 600px;
		height: 800px;
		background: radial-gradient(circle, rgba(15, 52, 96, 0.2) 0%, transparent 70%);
		top: 40%;
		right: -300px;
		animation-delay: -10s;
	}

	.nebula-3 {
		width: 700px;
		height: 500px;
		background: radial-gradient(circle, rgba(255, 107, 157, 0.1) 0%, transparent 70%);
		bottom: 20%;
		left: 20%;
		animation-delay: -5s;
	}

	@keyframes float {
		0%, 100% { transform: translate(0, 0) rotate(0deg); }
		33% { transform: translate(50px, -30px) rotate(120deg); }
		66% { transform: translate(-30px, 20px) rotate(240deg); }
	}

	.particles {
		position: absolute;
		width: 100%;
		height: 100%;
	}

	.particles::before {
		content: '';
		position: absolute;
		width: 1px;
		height: 1px;
		background: var(--accent-primary);
		box-shadow:
			10vw 20vh 0 rgba(0, 245, 255, 0.8),
			30vw 40vh 0 rgba(255, 107, 157, 0.6),
			60vw 10vh 0 rgba(0, 245, 255, 0.4),
			80vw 60vh 0 rgba(255, 107, 157, 0.8),
			20vw 70vh 0 rgba(0, 245, 255, 0.6),
			90vw 30vh 0 rgba(255, 107, 157, 0.4);
		animation: sparkle 6s infinite linear, float-particles 12s infinite ease-in-out;
	}

	@keyframes float-particles {
		0%, 100% { transform: translateY(0) rotate(0deg); }
		25% { transform: translateY(-20px) rotate(90deg); }
		50% { transform: translateY(0) rotate(180deg); }
		75% { transform: translateY(20px) rotate(270deg); }
	}
	@keyframes sparkle {
		0%, 100% { 
			transform: translateY(0) scale(1);
			opacity: 0;
		}
		50% { 
			transform: translateY(-20px) scale(1.5);
			opacity: 1;
		}
	}

	.cosmic-nav {
		position: fixed;
		top: 20px;
		left: 50%;
		transform: translateX(-50%);
		z-index: 1000;
		display: flex;
		align-items: center;
		gap: 20px;
		background: var(--card-bg);
		backdrop-filter: blur(20px);
		padding: 15px 25px;
		border-radius: 50px;
		border: 1px solid var(--border-color);
		transition: all 0.3s ease;
		animation: nav-float 4s infinite ease-in-out;
	}

	@keyframes nav-float {
		0%, 100% { transform: translateX(-50%) translateY(0); }
		50% { transform: translateX(-50%) translateY(-5px); }
	}

	.nav-controls {
		display: flex;
		gap: 10px;
	}

	.theme-toggle,
	.lang-toggle {
		background: rgba(0, 245, 255, 0.2);
		border: 1px solid var(--accent-primary);
		border-radius: 50%;
		width: 40px;
		height: 40px;
		display: flex;
		align-items: center;
		justify-content: center;
		cursor: pointer;
		transition: all 0.3s ease;
		color: var(--accent-primary);
		font-family: 'Orbitron', monospace;
		font-weight: 600;
		font-size: 0.8rem;
	}

	.theme-toggle:hover,
	.lang-toggle:hover {
		background: rgba(0, 245, 255, 0.3);
		transform: scale(1.1);
		box-shadow: 0 0 15px rgba(0, 245, 255, 0.4);
	}

	.nav-links {
		display: flex;
		gap: 25px;
	}

	.nav-link {
		color: var(--text-primary);
		text-decoration: none;
		font-family: 'Orbitron', monospace;
		font-weight: 600;
		padding: 8px 16px;
		border-radius: 25px;
		transition: all 0.3s ease;
		position: relative;
		overflow: hidden;
	}

	.nav-link::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(90deg, transparent, rgba(0, 245, 255, 0.4), transparent);
		transition: left 0.5s ease;
	}

	.nav-link:hover::before {
		left: 100%;
	}

	.nav-link:hover {
		color: var(--accent-primary);
		text-shadow: 0 0 10px var(--accent-primary);
		transform: scale(1.05) translateY(-2px);
		animation: link-pulse 0.6s ease-in-out;
	}

	@keyframes link-pulse {
		0%, 100% { box-shadow: 0 0 0 rgba(0, 245, 255, 0.4); }
		50% { box-shadow: 0 0 20px rgba(0, 245, 255, 0.6); }
	}

	.hamburger {
		display: none;
		flex-direction: column;
		background: none;
		border: none;
		cursor: pointer;
		padding: 5px;
		gap: 4px;
	}

	.hamburger span {
		width: 25px;
		height: 3px;
		background: var(--accent-primary);
		border-radius: 2px;
		transition: all 0.3s ease;
	}

	.hamburger.active span:nth-child(1) {
		transform: rotate(45deg) translate(6px, 6px);
	}

	.hamburger.active span:nth-child(2) {
		opacity: 0;
	}

	.hamburger.active span:nth-child(3) {
		transform: rotate(-45deg) translate(6px, -6px);
	}

	h1, h2, h3 {
		font-family: 'Orbitron', monospace;
	}

	/* Tablet breakpoint */
	@media (max-width: 1024px) {
		.cosmic-nav {
			left: 50%;
			transform: translateX(-50%);
			padding: 12px 20px;
			border-radius: 40px;
		}

		@keyframes nav-float {
			0%, 100% { transform: translateX(-50%) translateY(0); }
			50% { transform: translateX(-50%) translateY(-5px); }
		}

		.nav-links {
			gap: 20px;
		}

		.nav-link {
			padding: 6px 14px;
			font-size: 0.9rem;
		}

		.theme-toggle,
		.lang-toggle {
			width: 38px;
			height: 38px;
			font-size: 0.75rem;
		}
	}

	@media (max-width: 768px) {
		.cosmic-nav {
			top: 15px;
			right: 15px;
			left: 15px;
			transform: none;
			padding: 12px 20px;
			border-radius: 25px;
			z-index: 1001;
			justify-content: space-between;
			min-width: auto;
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
		}

		@keyframes nav-float {
			0%, 100% { transform: translateY(0); }
			50% { transform: translateY(-5px); }
		}

		.nav-controls {
			gap: 8px;
			order: 1;
		}

		.theme-toggle,
		.lang-toggle {
			width: 40px;
			height: 40px;
			font-size: 0.75rem;
			transition: all 0.3s ease;
		}

		.theme-toggle:hover,
		.lang-toggle:hover {
			transform: scale(1.1) rotate(5deg);
			box-shadow: 0 0 20px rgba(0, 245, 255, 0.6);
		}

		.hamburger {
			display: flex;
			z-index: 1002;
			transition: transform 0.3s ease;
			order: 2;
			padding: 8px;
			border-radius: 8px;
			background: rgba(0, 245, 255, 0.1);
		}

		.hamburger:hover {
			transform: scale(1.1);
			background: rgba(0, 245, 255, 0.2);
			box-shadow: 0 0 15px rgba(0, 245, 255, 0.4);
		}

		.hamburger span {
			width: 25px;
			height: 3px;
			background: var(--accent-primary);
			box-shadow: 0 0 15px rgba(0, 245, 255, 0.8);
			transition: all 0.3s ease;
			border-radius: 2px;
		}

		.hamburger.active span {
			box-shadow: 0 0 20px rgba(255, 107, 157, 0.8);
		}

		.nav-links {
			position: absolute;
			top: calc(100% + 15px);
			left: 0;
			right: 0;
			width: 100%;
			background: rgba(10, 10, 26, 0.98);
			backdrop-filter: blur(20px);
			border: 2px solid var(--accent-primary);
			border-radius: 25px;
			padding: 30px 25px;
			flex-direction: column;
			gap: 20px;
			max-height: 0;
			opacity: 0;
			overflow: hidden;
			transform: translateY(-20px) scale(0.95);
			transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
			z-index: 1000;
		}

		.nav-links.active {
			max-height: 400px;
			opacity: 1;
			transform: translateY(0) scale(1);
		}

		.nav-link {
			padding: 18px 30px;
			text-align: center;
			border-radius: 20px;
			background: rgba(0, 245, 255, 0.1);
			border: 2px solid rgba(0, 245, 255, 0.3);
			font-size: 1.1rem;
			font-weight: 700;
			color: var(--text-primary);
			transition: all 0.3s ease;
			position: relative;
			overflow: hidden;
		}

		.nav-link::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(0, 245, 255, 0.3), transparent);
			transition: left 0.5s ease;
		}

		.nav-link:hover::before {
			left: 100%;
		}

		.nav-link:hover {
			background: rgba(0, 245, 255, 0.3);
			border-color: var(--accent-primary);
			transform: scale(1.05) translateY(-3px);
			box-shadow: 0 10px 30px rgba(0, 245, 255, 0.6);
			color: var(--accent-primary);
			text-shadow: 0 0 15px var(--accent-primary);
		}

		.nebula {
			transform: scale(0.5);
		}

		.nebula-1 {
			width: 400px;
			height: 300px;
		}

		.nebula-2 {
			width: 300px;
			height: 400px;
		}

		.nebula-3 {
			width: 350px;
			height: 250px;
		}
	}

	@media (max-width: 480px) {
		.cosmic-nav {
			top: 10px;
			right: 10px;
			left: 10px;
			padding: 10px 15px;
			border-radius: 20px;
			gap: 12px;
		}

		.theme-toggle,
		.lang-toggle {
			width: 38px;
			height: 38px;
			font-size: 0.75rem;
		}

		.hamburger {
			padding: 6px;
		}

		.nav-links {
			padding: 20px 15px;
			gap: 15px;
			border-radius: 20px;
			top: calc(100% + 10px);
		}

		.nav-link {
			padding: 12px 20px;
			font-size: 0.9rem;
			border-radius: 18px;
		}

		.hamburger span {
			width: 23px;
			height: 2.5px;
		}
	}

	@media (max-width: 360px) {
		.cosmic-nav {
			top: 8px;
			right: 8px;
			left: 8px;
			padding: 8px 12px;
			border-radius: 18px;
			gap: 10px;
		}

		.theme-toggle,
		.lang-toggle {
			width: 35px;
			height: 35px;
			font-size: 0.7rem;
		}

		.hamburger {
			padding: 5px;
		}

		.nav-links {
			padding: 15px 10px;
			gap: 12px;
			border-radius: 15px;
			top: calc(100% + 8px);
		}

		.nav-link {
			padding: 10px 15px;
			font-size: 0.85rem;
			border-radius: 15px;
		}

		.hamburger span {
			width: 20px;
			height: 2px;
		}
	}

	/* Footer Styles */
	.cosmic-footer {
		background: var(--card-bg);
		backdrop-filter: blur(20px);
		border-top: 1px solid var(--border-color);
		padding: 25px 20px;
		text-align: center;
		position: relative;
		overflow: hidden;
	}

	.cosmic-footer::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(90deg, transparent, rgba(0, 245, 255, 0.1), rgba(255, 107, 157, 0.05), transparent);
		animation: footer-shimmer 8s ease-in-out infinite;
	}

	@keyframes footer-shimmer {
		0%, 100% { left: -100%; }
		50% { left: 100%; }
	}

	.footer-content {
		position: relative;
		z-index: 2;
	}

	.footer-content p {
		color: var(--text-secondary);
		margin: 5px 0;
		font-family: 'Orbitron', monospace;
		font-size: 0.9rem;
	}

	.footer-content p:first-child {
		color: var(--accent-primary);
		font-weight: 600;
		text-shadow: 0 0 10px rgba(0, 245, 255, 0.5);
	}

	@media (max-width: 768px) {
		.cosmic-footer {
			padding: 20px 15px;
		}

		.footer-content p {
			font-size: 0.85rem;
		}
	}

	@media (max-width: 480px) {
		.cosmic-footer {
			padding: 15px 10px;
		}

		.footer-content p {
			font-size: 0.8rem;
		}
	}
	/* Pantallas muy peque√±as */
	@media (max-width: 320px) {
		.cosmic-nav {
			top: 8px;
			right: 8px;
			left: 8px;
			padding: 8px 12px;
			gap: 12px;
		}

		.theme-toggle,
		.lang-toggle {
			width: 32px;
			height: 32px;
			font-size: 0.65rem;
		}

		.hamburger {
			padding: 4px;
		}

		.nav-links {
			padding: 18px 12px;
			gap: 12px;
		}

		.nav-link {
			padding: 10px 15px;
			font-size: 0.9rem;
		}

		.hamburger span {
			width: 18px;
			height: 2px;
		}
	}
</style>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		const themeToggle = document.getElementById('themeToggle');
		const langToggle = document.getElementById('langToggle');
		const hamburger = document.getElementById('hamburger');
		const navLinks = document.getElementById('navLinks');
		const themeIcon = themeToggle?.querySelector('.theme-icon');
		const langText = langToggle?.querySelector('.lang-text');

		let currentLang = 'es';
		let isDarkTheme = false;

		// Theme toggle
		themeToggle?.addEventListener('click', function() {
			isDarkTheme = !isDarkTheme;
			document.documentElement.setAttribute('data-theme', isDarkTheme ? 'dark' : 'light');
			if (themeIcon) {
				themeIcon.textContent = isDarkTheme ? '‚òÄÔ∏è' : 'üåô';
			}
		});

		// Language toggle
		langToggle?.addEventListener('click', function() {
			currentLang = currentLang === 'es' ? 'en' : 'es';
			if (langText) {
				langText.textContent = currentLang === 'es' ? 'EN' : 'ES';
			}
			
			// Update typing animation language
			if (window.updateTypingLanguage) {
				window.updateTypingLanguage(currentLang);
			}
			
			// Update all translatable elements
			document.querySelectorAll('[data-es][data-en]').forEach(element => {
				const text = element.getAttribute(`data-${currentLang}`);
				if (text) {
					// Skip typing elements as they're handled by their own script
					if (!element.classList.contains('typing-text-name') && !element.classList.contains('typing-text-welcome')) {
						element.textContent = text;
					}
				}
			});

			// Update HTML lang attribute
			document.documentElement.lang = currentLang;
		});

		// Hamburger menu toggle
		hamburger?.addEventListener('click', function() {
			hamburger.classList.toggle('active');
			navLinks?.classList.toggle('active');
		});

		// Close menu when clicking on a link
		document.querySelectorAll('.nav-link').forEach(link => {
			link.addEventListener('click', function() {
				hamburger?.classList.remove('active');
				navLinks?.classList.remove('active');
			});
		});

		// Smooth scroll
		document.querySelectorAll('a[href^="#"]').forEach(anchor => {
			anchor.addEventListener('click', function (e) {
				e.preventDefault();
				const target = document.querySelector(this.getAttribute('href'));
				if (target) {
					target.scrollIntoView({
						behavior: 'smooth',
						block: 'start'
					});
				}
			});
		});
	});
</script>

<script>
	// Cambiar t√≠tulo cuando el usuario cambia de pesta√±a
	document.addEventListener('DOMContentLoaded', function() {
		let originalTitle = document.title;
		let isTabActive = true;

		document.addEventListener('visibilitychange', function() {
			if (document.hidden) {
				isTabActive = false;
				document.title = "Regresa ac√°";
			} else {
				isTabActive = true;
				document.title = originalTitle;
			}
		});

		// Tambi√©n detectar cuando la ventana pierde/gana foco
		window.addEventListener('blur', function() {
			if (isTabActive) {
				document.title = "Regresa ac√°";
			}
		});

		window.addEventListener('focus', function() {
			document.title = originalTitle;
		});
	});
</script>